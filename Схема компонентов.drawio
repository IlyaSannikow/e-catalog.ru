<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 YaBrowser/25.4.0.0 Safari/537.36" version="27.1.1" pages="12">
  <diagram id="ubxbVhCTThVBihHKbjnr" name="Абстрактные компоненты">
    <mxGraphModel dx="564" dy="510" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="kkMSw3z8SaAJTypz9wPj-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkMSw3z8SaAJTypz9wPj-1" target="kkMSw3z8SaAJTypz9wPj-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="160" y="25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;HTTPS&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;запрос&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-3" vertex="1" connectable="0">
          <mxGeometry x="-0.04" y="-3" relative="1" as="geometry">
            <mxPoint y="2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="kkMSw3z8SaAJTypz9wPj-1" target="kkMSw3z8SaAJTypz9wPj-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-47" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;HTTPS запрос&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-46" vertex="1" connectable="0">
          <mxGeometry x="0.5348" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Браузер&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkMSw3z8SaAJTypz9wPj-5" target="kkMSw3z8SaAJTypz9wPj-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="65" />
              <mxPoint x="360" y="65" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-41" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Веб&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;интерфейс&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-19" vertex="1" connectable="0">
          <mxGeometry x="0.219" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="kkMSw3z8SaAJTypz9wPj-9" target="kkMSw3z8SaAJTypz9wPj-44" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="350" y="165" />
              <mxPoint x="350" y="250" />
            </Array>
            <mxPoint x="300.5" y="170" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-50" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Сверка&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ответов&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-48" vertex="1" connectable="0">
          <mxGeometry x="-0.0075" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-5" value="Приложение" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="178" y="20" width="142" height="180" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kkMSw3z8SaAJTypz9wPj-5" source="kkMSw3z8SaAJTypz9wPj-6" target="kkMSw3z8SaAJTypz9wPj-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Запрос проходит&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;цепочку фильтров&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-10" vertex="1" connectable="0">
          <mxGeometry x="-0.192" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SecurityConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="kkMSw3z8SaAJTypz9wPj-5" vertex="1">
          <mxGeometry x="21" y="40" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;FilterChain&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="kkMSw3z8SaAJTypz9wPj-5" vertex="1">
          <mxGeometry x="21" y="130" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="kkMSw3z8SaAJTypz9wPj-9" target="kkMSw3z8SaAJTypz9wPj-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Ответ/результат&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;на запрос&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-12" vertex="1" connectable="0">
          <mxGeometry x="-0.3513" relative="1" as="geometry">
            <mxPoint x="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-14" value="Docker" style="swimlane;whiteSpace=wrap;html=1;startSize=23;" parent="1" vertex="1">
          <mxGeometry x="503.88" y="20" width="270" height="120" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kkMSw3z8SaAJTypz9wPj-14" source="kkMSw3z8SaAJTypz9wPj-17" target="kkMSw3z8SaAJTypz9wPj-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="kkMSw3z8SaAJTypz9wPj-14" source="kkMSw3z8SaAJTypz9wPj-17" target="kkMSw3z8SaAJTypz9wPj-30" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-17" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Network&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="kkMSw3z8SaAJTypz9wPj-14" vertex="1">
          <mxGeometry x="20" y="30" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MinIO&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="kkMSw3z8SaAJTypz9wPj-14" vertex="1">
          <mxGeometry x="160" y="80" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-30" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Redis&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="kkMSw3z8SaAJTypz9wPj-14" vertex="1">
          <mxGeometry x="20" y="80" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-38" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Postgres&lt;/font&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="503.88" y="160" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;startFill=1;" parent="1" source="kkMSw3z8SaAJTypz9wPj-5" target="kkMSw3z8SaAJTypz9wPj-38" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="390" y="65" />
              <mxPoint x="390" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-40" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;JDBS&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="kkMSw3z8SaAJTypz9wPj-39" vertex="1" connectable="0">
          <mxGeometry x="0.6547" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-43" value="Google" style="swimlane;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190.5" y="205" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-44" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;reCAPTCHA&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="kkMSw3z8SaAJTypz9wPj-43" vertex="1">
          <mxGeometry x="10" y="30" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkMSw3z8SaAJTypz9wPj-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="kkMSw3z8SaAJTypz9wPj-43" source="kkMSw3z8SaAJTypz9wPj-44" target="kkMSw3z8SaAJTypz9wPj-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="lGP34PwLddo1HytnPmIS" name="reCAPTCHA">
    <mxGraphModel dx="592" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="a4hBJRig7bHCBbohu5Ly-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="a4hBJRig7bHCBbohu5Ly-1" target="a4hBJRig7bHCBbohu5Ly-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;1. Отправляем капчу&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="a4hBJRig7bHCBbohu5Ly-4" vertex="1" connectable="0">
          <mxGeometry x="-0.0767" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="a4hBJRig7bHCBbohu5Ly-1" target="a4hBJRig7bHCBbohu5Ly-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;3. Отправка&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;формы&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="a4hBJRig7bHCBbohu5Ly-8" vertex="1" connectable="0">
          <mxGeometry x="-0.504" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-14" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Браузер&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="a4hBJRig7bHCBbohu5Ly-2" target="a4hBJRig7bHCBbohu5Ly-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;2. Ответ на капчу&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="a4hBJRig7bHCBbohu5Ly-7" vertex="1" connectable="0">
          <mxGeometry x="0.07" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Google&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="354" y="10" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="a4hBJRig7bHCBbohu5Ly-3" target="a4hBJRig7bHCBbohu5Ly-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;4. Сравнение&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;полученных ответов&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="a4hBJRig7bHCBbohu5Ly-11" vertex="1" connectable="0">
          <mxGeometry x="0.4124" relative="1" as="geometry">
            <mxPoint y="-17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a4hBJRig7bHCBbohu5Ly-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Сервер&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="190" y="100" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="1BNOT1RY-crdsF95r63d" name="Фильтры">
    <mxGraphModel dx="592" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-1" target="s1OmYBTIJwkmS3Hd7GY_-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Записываем действия&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;пользователей на сайте&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-5" vertex="1" connectable="0">
          <mxGeometry x="-0.1927" y="-2" relative="1" as="geometry">
            <mxPoint x="17" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Входящий запрос&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-2" target="s1OmYBTIJwkmS3Hd7GY_-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка лимитов&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;запросов&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-7" vertex="1" connectable="0">
          <mxGeometry x="-0.172" y="-1" relative="1" as="geometry">
            <mxPoint x="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;AuthentificationTimingFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="340" y="10" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-3" target="s1OmYBTIJwkmS3Hd7GY_-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка reCAPTCHA&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;для /login&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-9" vertex="1" connectable="0">
          <mxGeometry x="-0.02" y="-3" relative="1" as="geometry">
            <mxPoint y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RateLimitFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-4" target="s1OmYBTIJwkmS3Hd7GY_-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка JWT&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токена&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-12" vertex="1" connectable="0">
          <mxGeometry x="0.1169" y="-3" relative="1" as="geometry">
            <mxPoint x="9" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RecaptchaFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="680" y="100" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-11" target="s1OmYBTIJwkmS3Hd7GY_-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Дешифровка CSRF&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токена&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-15" vertex="1" connectable="0">
          <mxGeometry x="-0.0073" y="-1" relative="1" as="geometry">
            <mxPoint x="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;TokenValidationFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="100" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-14" target="s1OmYBTIJwkmS3Hd7GY_-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-19" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Генерация токена&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;CSRF&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-18" vertex="1" connectable="0">
          <mxGeometry x="-0.184" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenDecryptionFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="100" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-17" target="s1OmYBTIJwkmS3Hd7GY_-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-22" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создаем CSRF токен для&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;аутентифицированного токена&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-21" vertex="1" connectable="0">
          <mxGeometry x="-0.0246" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-17" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenEndpointFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="190" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-20" target="s1OmYBTIJwkmS3Hd7GY_-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Обрабатывает данные&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;формы в /login&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="s1OmYBTIJwkmS3Hd7GY_-24" vertex="1" connectable="0">
          <mxGeometry x="0.5787" relative="1" as="geometry">
            <mxPoint y="-5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-20" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenInitializerFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="440" y="190" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="s1OmYBTIJwkmS3Hd7GY_-23" target="s1OmYBTIJwkmS3Hd7GY_-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="370" y="275" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-23" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UsernamePasswordAuthetificationFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="270" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="s1OmYBTIJwkmS3Hd7GY_-29" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Доступ к ресурсу&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="270" width="130" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="0LqqjlUxgVj1hzoVLQ0J" name="Redis">
    <mxGraphModel dx="592" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="gN2Wp_eIzsFprjNeaTeA-1" target="gN2Wp_eIzsFprjNeaTeA-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="184" y="25" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;HTTPS&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;запрос&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="gN2Wp_eIzsFprjNeaTeA-3" vertex="1" connectable="0">
          <mxGeometry x="-0.08" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Клиент&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="gN2Wp_eIzsFprjNeaTeA-2" target="gN2Wp_eIzsFprjNeaTeA-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверяет лимит&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;запросов&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="gN2Wp_eIzsFprjNeaTeA-8" vertex="1" connectable="0">
          <mxGeometry x="-0.092" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RateLimitFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="gN2Wp_eIzsFprjNeaTeA-7" target="gN2Wp_eIzsFprjNeaTeA-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;сохраняет/проверяет&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;блокировки&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="gN2Wp_eIzsFprjNeaTeA-11" vertex="1" connectable="0">
          <mxGeometry x="-0.104" y="-1" relative="1" as="geometry">
            <mxPoint x="-32" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RateLimiter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="530" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Redis&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="294" y="73" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="gN2Wp_eIzsFprjNeaTeA-13" target="gN2Wp_eIzsFprjNeaTeA-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Настраивает&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;подключение&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="gN2Wp_eIzsFprjNeaTeA-14" vertex="1" connectable="0">
          <mxGeometry x="-0.1564" y="-1" relative="1" as="geometry">
            <mxPoint x="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gN2Wp_eIzsFprjNeaTeA-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RedisConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="73" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="whDwtTF9o9KhNX36SGGz" name="RedisConfig">
    <mxGraphModel dx="592" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="E2WDYQXXLyvTMrqoIHT7-1" target="E2WDYQXXLyvTMrqoIHT7-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создает основной&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;пул соединений&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="E2WDYQXXLyvTMrqoIHT7-4" vertex="1" connectable="0">
          <mxGeometry x="0.0067" relative="1" as="geometry">
            <mxPoint x="19" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="E2WDYQXXLyvTMrqoIHT7-1" target="E2WDYQXXLyvTMrqoIHT7-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="150" y="25" />
              <mxPoint x="150" y="95" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создает пул&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;соединений для&amp;nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;админов&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="E2WDYQXXLyvTMrqoIHT7-5" vertex="1" connectable="0">
          <mxGeometry x="0.3728" y="1" relative="1" as="geometry">
            <mxPoint x="8" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RedisConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="E2WDYQXXLyvTMrqoIHT7-2" target="E2WDYQXXLyvTMrqoIHT7-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;redisConectionFactory&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="10" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="E2WDYQXXLyvTMrqoIHT7-3" target="E2WDYQXXLyvTMrqoIHT7-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;adminRedisConectionFactory&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="80" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;redisTemplate&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="10" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;adminRedisTemplate&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="80" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" parent="1" source="E2WDYQXXLyvTMrqoIHT7-10" target="E2WDYQXXLyvTMrqoIHT7-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="78" y="120" />
              <mxPoint x="78" y="80" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Передает&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;параметры&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;для настройки&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;соединений&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="E2WDYQXXLyvTMrqoIHT7-11" vertex="1" connectable="0">
          <mxGeometry x="-0.0488" y="2" relative="1" as="geometry">
            <mxPoint x="2" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="E2WDYQXXLyvTMrqoIHT7-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Файл с настройками&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;(application.yml)&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="20" y="140" width="150" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="FsdrSLh7jmEt0T3Jh6_s" name="CSRF">
    <mxGraphModel dx="762" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" edge="1" target="7QNuWqeNF9ZkeapQGGoF-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130" y="24.58" as="sourcePoint" />
            <mxPoint x="339" y="24.58" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создает основной репозиторий&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;CSRF-токенов с шифрованием&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-3" vertex="1" connectable="0">
          <mxGeometry x="-0.2027" relative="1" as="geometry">
            <mxPoint x="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="7QNuWqeNF9ZkeapQGGoF-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="30" y="135" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="30" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Расшифровывает&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токен перед&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;проверкой&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-10" vertex="1" connectable="0">
          <mxGeometry x="0.0688" y="1" relative="1" as="geometry">
            <mxPoint x="6" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" target="7QNuWqeNF9ZkeapQGGoF-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="30" y="135" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="30" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Генерирует новые токены&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;через запрос&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-15" vertex="1" connectable="0">
          <mxGeometry x="0.3513" relative="1" as="geometry">
            <mxPoint x="-8" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.167;exitY=1.012;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitPerimeter=0;" parent="1" source="7QNuWqeNF9ZkeapQGGoF-1" target="7QNuWqeNF9ZkeapQGGoF-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="30" y="135" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="30" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-22" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создает токен для&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;пользователя&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;если тот отсутствует&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-20" vertex="1" connectable="0">
          <mxGeometry x="0.4137" y="-1" relative="1" as="geometry">
            <mxPoint x="35" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="7QNuWqeNF9ZkeapQGGoF-1" target="7QNuWqeNF9ZkeapQGGoF-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SecurityConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" edge="1" target="7QNuWqeNF9ZkeapQGGoF-5" source="7QNuWqeNF9ZkeapQGGoF-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="24.58" as="sourcePoint" />
            <mxPoint x="721" y="24.58" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UsedCsrfTokenRepository&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="750" y="50" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="7QNuWqeNF9ZkeapQGGoF-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="40" as="targetPoint" />
            <Array as="points">
              <mxPoint x="570" y="180" />
              <mxPoint x="570" y="40" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка на&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;валидность&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-12" vertex="1" connectable="0">
          <mxGeometry x="0.519" y="3" relative="1" as="geometry">
            <mxPoint x="-67" y="70" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenDecryptionFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="165" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="7QNuWqeNF9ZkeapQGGoF-14" target="7QNuWqeNF9ZkeapQGGoF-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="539" y="43" as="targetPoint" />
            <Array as="points">
              <mxPoint x="580" y="240" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-18" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создает и оправляет&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;клиенту новый токен&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-17" vertex="1" connectable="0">
          <mxGeometry x="0.1957" relative="1" as="geometry">
            <mxPoint x="-78" y="55" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenEndpointFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="225" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="7QNuWqeNF9ZkeapQGGoF-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="590" y="40" as="targetPoint" />
            <Array as="points">
              <mxPoint x="590" y="300" />
              <mxPoint x="590" y="40" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-23" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Инициализирует CSRF&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;защиту&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-21" vertex="1" connectable="0">
          <mxGeometry x="-0.6243" y="-1" relative="1" as="geometry">
            <mxPoint x="9" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-19" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenDecryptionFilter&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="240" y="285" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="7QNuWqeNF9ZkeapQGGoF-24" target="7QNuWqeNF9ZkeapQGGoF-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-27" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Извлечение&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токена из&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-size: 14px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;куки&lt;/span&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="7QNuWqeNF9ZkeapQGGoF-26" vertex="1" connectable="0">
          <mxGeometry x="-0.4658" y="-1" relative="1" as="geometry">
            <mxPoint x="13" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-24" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SpaCsrfTokenRequestHanler&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="120" y="80" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NZOJbPZ-Td8z0PmPp37t-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="7QNuWqeNF9ZkeapQGGoF-2">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="24.58" as="sourcePoint" />
            <mxPoint x="845" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NZOJbPZ-Td8z0PmPp37t-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Хранит токены для проверки&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;на повторное использование&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="NZOJbPZ-Td8z0PmPp37t-1">
          <mxGeometry x="-0.049" y="-3" relative="1" as="geometry">
            <mxPoint x="214" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="7QNuWqeNF9ZkeapQGGoF-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;JweCsrfTokenRepository&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="10" width="210" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="bLVs5GQTxT5g6xD4ZswO" name="MinIo">
    <mxGraphModel dx="762" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="KAuZ7iDu31i-45dAMKyR-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="KAuZ7iDu31i-45dAMKyR-1" target="KAuZ7iDu31i-45dAMKyR-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Настройки&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;безопасности и&lt;/span&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;работы&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KAuZ7iDu31i-45dAMKyR-3" vertex="1" connectable="0">
          <mxGeometry x="-0.1491" relative="1" as="geometry">
            <mxPoint x="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MinIoConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="KAuZ7iDu31i-45dAMKyR-2" target="KAuZ7iDu31i-45dAMKyR-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Работа с&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;файлами&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KAuZ7iDu31i-45dAMKyR-6" vertex="1" connectable="0">
          <mxGeometry x="-0.124" relative="1" as="geometry">
            <mxPoint x="6" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MinIoClient&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MinIoServer&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="550" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="KAuZ7iDu31i-45dAMKyR-8" target="KAuZ7iDu31i-45dAMKyR-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Создание бэкапа&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;БД&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KAuZ7iDu31i-45dAMKyR-10" vertex="1" connectable="0">
          <mxGeometry x="-0.1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;" parent="1" source="KAuZ7iDu31i-45dAMKyR-8" target="KAuZ7iDu31i-45dAMKyR-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка на наличие&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;подходящих прав и роли&lt;/font&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="KAuZ7iDu31i-45dAMKyR-13" vertex="1" connectable="0">
          <mxGeometry x="-0.0427" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;BackupService&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="300" y="100" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="KAuZ7iDu31i-45dAMKyR-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SecurityConfig&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="630" y="100" width="120" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="GhdZ-bbu45mSzrSdn0G2" name="Roles">
    <mxGraphModel dx="762" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Q9i13CNsuxpZcweKAqHG-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Клиент&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="100" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;TokenValidation&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Filter&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="150" y="10" width="110" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenDecryption&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Filter&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="300" y="10" width="140" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;SecurityConfig&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="480" y="10" width="100" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-19" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="Q9i13CNsuxpZcweKAqHG-5" vertex="1">
          <mxGeometry x="50" y="420" width="10" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-20" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;роли пользователя&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;(ADMIN?)&lt;/font&gt;&lt;/div&gt;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="Q9i13CNsuxpZcweKAqHG-5" target="Q9i13CNsuxpZcweKAqHG-19" edge="1">
          <mxGeometry x="0.1765" y="5" relative="1" as="geometry">
            <mxPoint x="55" y="430" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="85" y="460" />
            </Array>
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UserDetailService&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="600" y="10" width="120" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;EntityManager&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="780" y="10" width="110" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;AdminController&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="930" y="10" width="110" height="550" as="geometry" />
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;GET /admin&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;(с токеном)&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" target="Q9i13CNsuxpZcweKAqHG-3" edge="1">
          <mxGeometry x="0.0308" y="-20" width="80" relative="1" as="geometry">
            <mxPoint x="59.5" y="80" as="sourcePoint" />
            <mxPoint x="180" y="80" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверить токен через&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;JwtDecoder&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" target="Q9i13CNsuxpZcweKAqHG-5">
          <mxGeometry x="0.0308" y="-20" width="80" relative="1" as="geometry">
            <mxPoint x="204.5" y="110" as="sourcePoint" />
            <mxPoint x="509.5" y="110" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Валидная&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;аутентификация&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" source="Q9i13CNsuxpZcweKAqHG-5">
          <mxGeometry x="-0.0185" y="15" relative="1" as="geometry">
            <mxPoint x="509.5" y="155" as="sourcePoint" />
            <mxPoint x="204.5" y="155" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Передаем запрос&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="204.5" y="192" as="sourcePoint" />
            <mxPoint x="359.5" y="192" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Валидация CSRF&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токена&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" target="Q9i13CNsuxpZcweKAqHG-5" edge="1">
          <mxGeometry x="-0.0635" y="-20" width="80" relative="1" as="geometry">
            <mxPoint x="369.5" y="215" as="sourcePoint" />
            <mxPoint x="510" y="215" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Токен подтвержден&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="-0.0033" relative="1" as="geometry">
            <mxPoint x="529.5" y="265" as="sourcePoint" />
            <mxPoint x="369.5" y="265" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Передаем запрос&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.0035" width="80" relative="1" as="geometry">
            <mxPoint x="369.5" y="315" as="sourcePoint" />
            <mxPoint x="654.5" y="315" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Получить информацию&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;о пользователе (JPQL)&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" target="Q9i13CNsuxpZcweKAqHG-7">
          <mxGeometry x="0.0111" y="-15" width="80" relative="1" as="geometry">
            <mxPoint x="660" y="340" as="sourcePoint" />
            <mxPoint x="804.5" y="340" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-17" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;USER(username, role, ...)&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" source="Q9i13CNsuxpZcweKAqHG-7">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="804.5" y="385" as="sourcePoint" />
            <mxPoint x="660" y="385" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-18" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UserDetails&lt;br&gt;с authorities&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.0276" y="15" width="80" relative="1" as="geometry">
            <mxPoint x="654.5" y="415" as="sourcePoint" />
            <mxPoint x="530" y="415" as="targetPoint" />
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-22" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Вызвать обработчик&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="529.5" y="525" as="sourcePoint" />
            <mxPoint x="984.5" y="525" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Q9i13CNsuxpZcweKAqHG-23" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;200 OK&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" source="Q9i13CNsuxpZcweKAqHG-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="954.5" y="545" as="sourcePoint" />
            <mxPoint x="59.5" y="545" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YWQHSX71khyyZ6XJFcJ8" name="Auth">
    <mxGraphModel dx="762" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="I_PPiRB94a2fNZtFOVsM-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Browser&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="60" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Форма&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;login&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="120" y="10" width="60" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;reCAPTCHA&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="270" y="10" width="110" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Получить CSRF токен&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-3" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-122" y="189" as="sourcePoint" />
            <mxPoint x="157.5" y="189" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-18" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CSRF токен&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-3" edge="1" source="I_PPiRB94a2fNZtFOVsM-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="130.5" y="220" as="sourcePoint" />
            <mxPoint x="-120" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-19" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Рендер формы&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-119.5" y="230" as="sourcePoint" />
            <mxPoint x="-230" y="230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-21" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Вызов капчи&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-3" target="I_PPiRB94a2fNZtFOVsM-3" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-119.5" y="280" as="sourcePoint" />
            <mxPoint x="45" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Security&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;filters&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="390" y="10" width="80" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-29" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="I_PPiRB94a2fNZtFOVsM-4" vertex="1">
          <mxGeometry x="36.5" y="420" width="10" height="120" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-30" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;RateLimit&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;FIlter&lt;/span&gt;&lt;/font&gt;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-4" target="I_PPiRB94a2fNZtFOVsM-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="41.5" y="430" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="71.5" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-26" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Отправка формы (csrf, token, data)&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-4" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-239.5" y="420" as="sourcePoint" />
            <mxPoint x="40" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-31" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfFilter&lt;/font&gt;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-4" edge="1">
          <mxGeometry x="0.0118" relative="1" as="geometry">
            <mxPoint x="39.5" y="470" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="69.5" y="500" />
            </Array>
            <mxPoint x="44.5" y="500" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Recaptcha&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;service&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="510" y="10" width="80" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;TokenValiation&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;service&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="630" y="10" width="100" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-32" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Верификация&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токена&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-6" edge="1">
          <mxGeometry x="0.0042" y="-21" width="80" relative="1" as="geometry">
            <mxPoint x="-199.5" y="540" as="sourcePoint" />
            <mxPoint x="-80" y="540" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-33" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверка с секретным ключом&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-6" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-79.5" y="550.5" as="sourcePoint" />
            <mxPoint x="435" y="550.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UserDetails&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;service&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="760" y="10" width="90" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;База данных&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="890" y="10" width="90" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-36" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="I_PPiRB94a2fNZtFOVsM-8" vertex="1">
          <mxGeometry x="-466" y="590" width="10" height="110" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-34" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;return&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="172.5" y="575" as="sourcePoint" />
            <mxPoint x="-342.5" y="575" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-35" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Успех&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="I_PPiRB94a2fNZtFOVsM-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-342" y="590" as="sourcePoint" />
            <mxPoint x="-462.5" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;GoogleAPI&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="1020" y="10" width="90" height="870" as="geometry" />
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;GET /login&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" target="I_PPiRB94a2fNZtFOVsM-2" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="40" y="80" as="sourcePoint" />
            <mxPoint x="120" y="80" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Инициализация&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;элемента страницы&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" target="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry x="-0.0274" y="-20" width="80" relative="1" as="geometry">
            <mxPoint x="150" y="90" as="sourcePoint" />
            <mxPoint x="280" y="90" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Запрос на sitekey&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" source="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="330" y="105" as="sourcePoint" />
            <mxPoint x="1064.5" y="105" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Возврат ключа&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" target="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1064.5" y="140" as="sourcePoint" />
            <mxPoint x="340" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Готовый элемент&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" source="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="314.5" y="160" as="sourcePoint" />
            <mxPoint x="149.5" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-20" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Ввод данных&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="40.5" y="270" as="sourcePoint" />
            <mxPoint x="150" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-22" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Показать капчу&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" source="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="351.5" y="320" as="sourcePoint" />
            <mxPoint x="40" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-23" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Решение капчи&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" target="I_PPiRB94a2fNZtFOVsM-3" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="40.5" y="360" as="sourcePoint" />
            <mxPoint x="315" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-24" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;g-recaptcha-response&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" source="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="350" y="370" as="sourcePoint" />
            <mxPoint x="1065" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Временный токен&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" target="I_PPiRB94a2fNZtFOVsM-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1065" y="400" as="sourcePoint" />
            <mxPoint x="340" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-38" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Найти пользователя по имени&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="430.5" y="710" as="sourcePoint" />
            <mxPoint x="805" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-39" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Поиск&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="805" y="725" as="sourcePoint" />
            <mxPoint x="935" y="725" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-40" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Информация о&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;пользователе&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.0769" relative="1" as="geometry">
            <mxPoint x="940" y="780" as="sourcePoint" />
            <mxPoint x="810" y="780" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-41" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Authentification&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="800.5" y="790" as="sourcePoint" />
            <mxPoint x="430" y="790" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-42" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;JWT токен&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="430.5" y="820" as="sourcePoint" />
            <mxPoint x="680" y="820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-43" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Сохранить токен&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="680" y="830" as="sourcePoint" />
            <mxPoint x="935" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-44" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Установить куки&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1" source="I_PPiRB94a2fNZtFOVsM-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="400" y="845" as="sourcePoint" />
            <mxPoint x="150" y="845" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-45" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Редирект&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;на главную&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;страницу&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="-0.086" y="20" relative="1" as="geometry">
            <mxPoint x="150.5" y="860" as="sourcePoint" />
            <mxPoint x="40" y="860" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="I_PPiRB94a2fNZtFOVsM-37" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Username&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Password&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Authentification&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Filter&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="1" edge="1">
          <mxGeometry x="0.2941" y="-1" relative="1" as="geometry">
            <mxPoint x="428" y="630" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="458" y="630" />
              <mxPoint x="458" y="660" />
            </Array>
            <mxPoint as="offset" />
            <mxPoint x="433" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="xOitG7TFL58RAmBwvZe-" name="RateLimitFilter">
    <mxGraphModel dx="762" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-1" target="VOQzMrjXEAMwEX8kr5H0-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Запрос&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-2" target="VOQzMrjXEAMwEX8kr5H0-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="115" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Да&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-5" vertex="1" connectable="0">
          <mxGeometry x="0.078" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-2" target="VOQzMrjXEAMwEX8kr5H0-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Нет&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-8" vertex="1" connectable="0">
          <mxGeometry x="0.6069" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Статический&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;ресурс?&lt;/font&gt;&lt;/div&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="180" y="50" width="160" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Пропуск&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;(к следующему фильтру)&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="90" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-7" target="VOQzMrjXEAMwEX8kr5H0-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Да&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-11" vertex="1" connectable="0">
          <mxGeometry x="0.7661" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-7" target="VOQzMrjXEAMwEX8kr5H0-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-15" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Нет&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-14" vertex="1" connectable="0">
          <mxGeometry x="0.6946" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;IP заблокирован?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="330" y="120" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;429&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;(Too Many Requests)&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="10" y="280" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-13" target="VOQzMrjXEAMwEX8kr5H0-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="220" />
              <mxPoint x="260" y="128" />
              <mxPoint x="160" y="128" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-17" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Да&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-16" vertex="1" connectable="0">
          <mxGeometry x="0.7068" relative="1" as="geometry">
            <mxPoint x="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-13" target="VOQzMrjXEAMwEX8kr5H0-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-21" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Нет&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-20" vertex="1" connectable="0">
          <mxGeometry x="-0.4032" relative="1" as="geometry">
            <mxPoint x="37" y="16" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Администратор?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="480" y="190" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-19" target="VOQzMrjXEAMwEX8kr5H0-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-19" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Получаем лимиты из файла конфигурации&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="610" y="260" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="VOQzMrjXEAMwEX8kr5H0-22" target="VOQzMrjXEAMwEX8kr5H0-10" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="360" />
              <mxPoint x="260" y="310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Да&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="VOQzMrjXEAMwEX8kr5H0-24" vertex="1" connectable="0">
          <mxGeometry x="0.844" y="1" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="VOQzMrjXEAMwEX8kr5H0-22" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Лимит превышен?&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="617.5" y="330" width="145" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="A9FG5igHYkw5GUeQnxPw" name="CSRF Gen">
    <mxGraphModel dx="762" dy="536" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="A2A3jTonFlX0F3nQiljZ-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Браузер&lt;/font&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="10" y="10" width="60" height="310" as="geometry" />
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;CsrfTokenInitializer&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Filter&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="120" y="10" width="130" height="310" as="geometry" />
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;JweCsrfToken&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Repository&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="290" y="10" width="110" height="310" as="geometry" />
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;UsedCsrfToken&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Repository&lt;/font&gt;&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="1" vertex="1">
          <mxGeometry x="470" y="10" width="110" height="310" as="geometry" />
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-8" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" parent="3Q5s1RRl2hFZstKL2JA3-3" vertex="1">
          <mxGeometry x="-130" y="140" width="10" height="130" as="geometry" />
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-9" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Генерация нового&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;UUID (токена)&lt;/font&gt;&lt;/div&gt;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="3Q5s1RRl2hFZstKL2JA3-3" target="3Q5s1RRl2hFZstKL2JA3-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-125" y="160" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-95" y="190" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Токен недействителен&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" parent="3Q5s1RRl2hFZstKL2JA3-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="54.5" y="145" as="sourcePoint" />
            <mxPoint x="-125.5" y="145" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Шифрование&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токена (JWE)&lt;/font&gt;&lt;/div&gt;" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" parent="3Q5s1RRl2hFZstKL2JA3-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-125" y="210" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-95" y="240" />
            </Array>
            <mxPoint x="-120" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-11" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Сохранить&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;зашифрованный&amp;nbsp;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;токен&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="3Q5s1RRl2hFZstKL2JA3-3" edge="1">
          <mxGeometry x="0.0315" y="-30" width="80" relative="1" as="geometry">
            <mxPoint x="-120" y="270" as="sourcePoint" />
            <mxPoint x="54.5" y="270" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-13" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Сохраняем токен в куки&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="3Q5s1RRl2hFZstKL2JA3-3" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="-125.5" y="295" as="sourcePoint" />
            <mxPoint x="-430.5" y="295" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;GET /page&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" target="3Q5s1RRl2hFZstKL2JA3-1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="40" y="80" as="sourcePoint" />
            <mxPoint x="120" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Токен действителен?&lt;/font&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" source="3Q5s1RRl2hFZstKL2JA3-1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="190" y="95" as="sourcePoint" />
            <mxPoint x="344.5" y="95" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="3Q5s1RRl2hFZstKL2JA3-6" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Проверить токен по&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;encrypted_token&lt;/font&gt;&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" parent="1" edge="1" target="3Q5s1RRl2hFZstKL2JA3-3">
          <mxGeometry x="0.0059" y="-15" width="80" relative="1" as="geometry">
            <mxPoint x="344.5" y="105" as="sourcePoint" />
            <mxPoint x="514.5" y="105" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="5yQ6vPx3RDgt5LB4F5B7" name="CSRF Check">
    <mxGraphModel dx="994" dy="556" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-1" value="Браузер" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};size=30;" vertex="1" parent="1">
          <mxGeometry x="10" y="10" width="70" height="350" as="geometry" />
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-3" value="CsrfToken&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Endpoint&lt;/span&gt;&lt;div&gt;Filter&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};size=30;" vertex="1" parent="1">
          <mxGeometry x="120" y="10" width="110" height="350" as="geometry" />
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-4" value="JweCsrfToken&lt;div&gt;Repository&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};size=30;" vertex="1" parent="1">
          <mxGeometry x="280" y="10" width="110" height="350" as="geometry" />
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-5" value="UsedCsrfToken&lt;div&gt;Repository&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};size=30;" vertex="1" parent="1">
          <mxGeometry x="440" y="10" width="110" height="350" as="geometry" />
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-6" value="CsrfTokenDecryption&lt;div&gt;Filter&lt;/div&gt;" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};size=30;" vertex="1" parent="1">
          <mxGeometry x="610" y="10" width="120" height="350" as="geometry" />
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-7" value="Controller" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};size=30;" vertex="1" parent="1">
          <mxGeometry x="780" y="10" width="70" height="350" as="geometry" />
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-8" value="GET /csrf-token" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="44.5" y="65" as="sourcePoint" />
            <mxPoint x="174.5" y="65" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-9" value="generateToken()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="174.5" y="80" as="sourcePoint" />
            <mxPoint x="334.5" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-10" value="сохраняем токен" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="334" y="100" as="sourcePoint" />
            <mxPoint x="494" y="100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-11" value="Сохранение куки" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="174.5" y="120" as="sourcePoint" />
            <mxPoint x="44.5" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-12" value="POST /changePassword" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="44.5" y="145" as="sourcePoint" />
            <mxPoint x="814.5" y="145" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-13" value="Проверка CSRF" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="814.5" y="175" as="sourcePoint" />
            <mxPoint x="669.5" y="175" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-14" value="decryptToken()" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="669.5" y="190" as="sourcePoint" />
            <mxPoint x="334.5" y="190" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-19" value="Расшифрованный токен" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="334.5" y="215" as="sourcePoint" />
            <mxPoint x="669.5" y="215" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-20" value="Токен не был использован?" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="669.5" y="240" as="sourcePoint" />
            <mxPoint x="494.5" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-21" value="Нет" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="494.5" y="265" as="sourcePoint" />
            <mxPoint x="669.5" y="265" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-22" value="Помечаем токен&lt;div&gt;как использованный&lt;/div&gt;" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry x="0.0229" y="20" width="80" relative="1" as="geometry">
            <mxPoint x="669.5" y="300" as="sourcePoint" />
            <mxPoint x="494.5" y="300" as="targetPoint" />
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-24" value="Пропускам запрос" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" target="nEMXQ82lhI4YzNDjKf-C-7">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="670" y="320" as="sourcePoint" />
            <mxPoint x="750" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nEMXQ82lhI4YzNDjKf-C-25" value="Запрос выполнен" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="814.5" y="340" as="sourcePoint" />
            <mxPoint x="44.5" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
